{
  "schemaVersion": 2,
  "dockerfilePath": "./Dockerfile",
  "buildArguments": {
    "CACHE_BUST": "no-cache"
  },
  "expose": {
    "api": {
      "containerPort": 4007,
      "httpPort": 80,
      "httpsPort": 443
    }
  },
  "healthcheck": {
    "path": "/api/v1/health",
    "port": 4007,
    "interval": 30,
    "timeout": 10,
    "retries": 3,
    "startPeriod": 30
  },
  "notify": {
    "webhook": "",
    "slack": "",
    "discord": ""
  },
  "customDomain": "",
  "forceSsl": true,
  "appName": "extrahand-email-service",
  "hasPersistentData": false,
  "description": "ExtraHand Email Service - Centralized email sending service for all ExtraHand platforms",
  "instanceCount": 1,
  "tags": [
    "nodejs",
    "typescript",
    "express",
    "email",
    "smtp",
    "sendgrid",
    "ses",
    "extrahand",
    "notification"
  ],
  "envVars": {
    "NODE_ENV": "production",
    "PORT": "4007",
    "LOG_LEVEL": "info",
    "MONGODB_URI": "YOUR_MONGODB_URI_HERE",
    "MONGODB_DB": "extrahand",
    "SERVICE_AUTH_TOKEN": "YOUR_SERVICE_AUTH_TOKEN_HERE",
    "EMAIL_PROVIDER": "smtp",
    "SMTP_HOST": "smtp.office365.com",
    "SMTP_PORT": "587",
    "SMTP_SECURE": "false",
    "SMTP_USER": "YOUR_SMTP_USER_EMAIL",
    "SMTP_PASS": "YOUR_SMTP_PASSWORD",
    "EMAIL_FROM_ADDRESS": "YOUR_FROM_EMAIL",
    "EMAIL_FROM_NAME": "ExtraHand",
    "WEB_APP_URL": "https://extrahand.in",
    "MOBILE_APP_DEEP_LINK": "extrahand://",
    "LOGO_URL":  "https://drive.google.com/file/d/1FvCJTDBZE0bMHWKbHDOBjtclMDwQ0oFK/view?usp=sharing"
  },
  "volumes": [
    {
      "name": "app-logs",
      "path": "/app/logs"
    }
  ],
  "restart": {
    "policy": "unless-stopped",
    "maximumRetryCount": 10
  },
  "resources": {
    "memory": "512Mi",
    "cpu": "0.5"
  },
  "networking": {
    "publishAllPorts": false,
    "enableTcpProxy": false
  }
}
